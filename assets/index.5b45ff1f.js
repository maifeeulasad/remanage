import{c as E}from"./react-dom.0fda724e.js";import{B as K}from"./react-router-dom.2a54552e.js";import{R as L,r as u}from"./react.c0c01f32.js";import{a as e,l as D,P as A,j as m,L as N,S as F,F as R,I as y,B as v,b as k,c as O,M as V}from"./antd.9fdacadc.js";import{D as j,C as M,P as _}from"./react-beautiful-dnd.b0c96c6e.js";import{P as q}from"./@ant-design.cc24bc1e.js";import{a as H,b as S,N as $}from"./react-router.47f00d37.js";import"./scheduler.2323097a.js";import"./history.2b6d2b8a.js";import"./@babel.8e2648a6.js";import"./classnames.86f4c91e.js";import"./rc-util.673abd87.js";import"./react-is.ea6630f4.js";import"./rc-resize-observer.4d2e8156.js";import"./resize-observer-polyfill.8deb1e21.js";import"./rc-field-form.dc0ea732.js";import"./async-validator.fb49d0f5.js";import"./rc-pagination.ae65fefc.js";import"./rc-picker.f524a1fc.js";import"./rc-trigger.3855d523.js";import"./rc-motion.e465090a.js";import"./rc-align.8af24f78.js";import"./dom-align.243fa364.js";import"./lodash.ea09c00c.js";import"./rc-notification.5a5e01fe.js";import"./@ctrl.7a2e6dd4.js";import"./rc-tooltip.28e28b3f.js";import"./rc-menu.04c74c2f.js";import"./shallowequal.ea8d8004.js";import"./rc-overflow.66387b0b.js";import"./rc-dropdown.02994838.js";import"./rc-select.b88d7a3a.js";import"./rc-virtual-list.9017a2c3.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";import"./rc-dialog.a4846415.js";import"./rc-input.5b387974.js";import"./rc-textarea.d053b89d.js";import"./redux.78c577b7.js";import"./react-redux.23a64fcc.js";import"./hoist-non-react-statics.06cf8342.js";import"./use-memo-one.f27cdbc8.js";import"./css-box-model.f081ea8c.js";import"./tiny-invariant.47b24a6d.js";import"./memoize-one.38c86d42.js";import"./raf-schd.32bd8a6d.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};U();const W=()=>e(D.Header,{style:{backgroundColor:"transparent"},children:e(A,{title:"re:manage",subTitle:"Manage your ways"})});class z extends L.Component{render(){return e("div",{style:{margin:"20px",flex:"grow"},children:e(D.Content,{children:this.props.children})})}}const Y=()=>e(D.Footer,{style:{position:"sticky",bottom:"0"},children:m("div",{style:{textAlign:"center"},children:[m("div",{children:["Trace: ",`1b81b81c38dc0f4dc8c0f165cd8dfbc335e83c1b
`]}),m("div",{children:["\xA9 ",new Date().getFullYear()," - Maifee Ul Asad"]})]})});class G extends L.Component{render(){const{children:t}=this.props;return m(N,{style:{minHeight:"100vh"},children:[e(W,{}),e(z,{children:t}),e(Y,{})]})}}const J=()=>new Promise((s,t)=>{const o=indexedDB.open("kanban",1);o.onsuccess=r=>{const n=r.target.result;s(n)},o.onerror=()=>t(),o.onupgradeneeded=r=>{r.target.result.createObjectStore("kanban",{keyPath:"id"})}}),Q=s=>new Promise((t,o)=>{const r=s.transaction(["kanban"],"readonly");r.onerror=a=>{o(a)};const n=r.objectStore("kanban");n.getAll().onsuccess=a=>{t(a.target.result)}}),w=(s,t)=>new Promise((o,r)=>{const n=s.transaction(["kanban"],"readwrite");n.oncomplete=()=>o(),n.onerror=l=>r(l);const a=n.objectStore("kanban");t.map(l=>a.put(l))}),X=()=>{const[s,t]=u.exports.useState(!0),[o,r]=u.exports.useState(void 0),[n,a]=u.exports.useState([]);u.exports.useEffect(()=>{J().then(i=>{r(i),t(!1)})},[]);const l=()=>{if(!o)throw new Error("DB not initialized");return Q(o)};return u.exports.useEffect(()=>{o&&l().then(i=>a(i))},[s]),{kanbanColumns:n,setKanbanColumns:i=>{if(!o)throw new Error("DB not initialized");t(!0),w(o,i).then(()=>{a(i),t(!1)}).catch(()=>{t(!1)})},addNewKanbanColumn:i=>{if(!o)throw new Error("DB not initialized");const d=[i];t(!0),w(o,d).then(()=>{a(d),t(!1)}).catch(()=>{t(!1)})},updateKanbanColumn:i=>{if(!o)throw new Error("DB not initialized");const d=[i];t(!0),w(o,d).then(()=>{a(d),t(!1)}).catch(()=>{t(!1)})},loading:s}},Z=[{id:"Backlog",title:"Backlog",tasks:[{id:"prem",title:"prem",details:"prem korte hobe"},{id:"taka",title:"taka",details:"onk onk taka",metadeta:""},{id:"time",title:"time",details:"time lagbe",metadeta:""},{id:"poralekha",title:"poralekha",details:"eta kortei vule gesi"}]},{id:"ToDo",title:"To Do",tasks:[{id:"shob",title:"shob",details:"ekdom shob..."}]},{id:"WIP",title:"WIP",tasks:[{id:"janinah",title:"janinah",details:"kichui jani nah"}]},{id:"Completed",title:"Completee",tasks:[]}],ee=({value:s,onChange:t,columnsExisting:o})=>{const[r,n]=u.exports.useState(o),a=u.exports.useRef(null);return e(F,{style:{width:300},onChange:()=>{},value:s,defaultValue:r[0]||void 0,onSelect:l=>{t&&t(l)},options:r.map(l=>({value:l,label:l})),dropdownRender:l=>m(R,{children:[l,m("div",{style:{display:"flex"},children:[e(y,{ref:a}),e(v,{icon:e(q,{}),type:"primary",onClick:()=>{var h,C;const p=(C=(h=a.current)==null?void 0:h.input)==null?void 0:C.value;p&&!r.find(i=>i===p)&&n([...r,p])}})]})]})})},te=u.exports.forwardRef(({columns:s},t)=>{const[o]=k.useForm();return u.exports.useImperativeHandle(t,()=>({getValue(){return new Promise((r,n)=>{o.validateFields().then(()=>{const a=o.getFieldsValue();r(a)}).catch(()=>{n()})})}})),m(k,{form:o,children:[e(k.Item,{name:"column",label:"Column",rules:[{required:!0,message:"Please select or enter COLUMN"}],children:e(ee,{columnsExisting:s})}),e(k.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter TITLE of your task"}],children:e(y,{placeholder:"Title"})}),e(k.Item,{name:"details",label:"Details",rules:[{required:!0,message:"Please enter DETAILS of your task"}],children:e(y,{placeholder:"Details"})}),e(k.Item,{name:"metadata",label:"Metadata",children:e(y.TextArea,{rows:5,placeholder:"Metadata"})})]})}),ne=({cellWidth:s})=>{const{kanbanColumns:t,setKanbanColumns:o,addNewKanbanColumn:r,updateKanbanColumn:n,loading:a}=X(),[l,p]=u.exports.useState(!1),h=u.exports.createRef(),C=i=>{if(i.destination===void 0||i.destination===null)return;const d=i.source.droppableId,c=i.destination.droppableId,b=t.find(g=>g.id===d),f=t.find(g=>g.id===c);if(b===void 0||f===void 0)return;const I=f.tasks,x=b.tasks,T=x[i.source.index];x.splice(i.source.index,1),I.splice(i.destination.index,0,T);const B=t.map(g=>g.id===d?{...g,tasks:x}:g.id===c?{...g,tasks:I}:g);o(B)};return m(R,{children:[a&&e(O,{}),m("div",{style:{display:"flex"},children:[e("div",{style:{flex:1}}),e(v,{className:"m-1",type:"primary",onClick:()=>{o(Z)},children:"Add Seed"}),e(v,{className:"m-1",type:"primary",onClick:()=>{p(!0)},children:"Add Item"})]}),e(V,{title:"Add Item",visible:l,closable:!0,onCancel:()=>{p(!1)},onOk:()=>{var i;h&&((i=h.current)==null||i.getValue().then(d=>{const c=d.column,b=t.find(f=>f.id===c);if(b)b.tasks=[...b.tasks,{id:new Date().toUTCString(),title:d.title,details:d.details,metadeta:d.metadata}],n(b);else{const f={id:c,title:c,tasks:[{id:new Date().toUTCString(),title:d.title,details:d.details,metadeta:d.metadata}]};r(f)}p(!1)}))},children:e(te,{ref:h,columns:t.map(i=>i.title)})}),e(j,{onDragEnd:C,children:e("div",{style:{display:"flex"},children:t.map(i=>e(M,{droppableId:i.id,children:d=>m("div",{className:"grow",style:{margin:"20px",border:"red dotted 1px"},ref:d.innerRef,children:[e("h3",{children:i.title}),i.tasks.map((c,b)=>e(_,{draggableId:c.id,index:b,children:f=>e("div",{ref:f.innerRef,...f.draggableProps,...f.dragHandleProps,children:m("div",{style:{border:"blue solid 1px",minWidth:`${s||"200"} px !important`},children:[e("h1",{children:c.title}),e("p",{title:c.metadeta,children:c.details})]})})},c.id)),d.placeholder]})},i.title))})})]})},oe=()=>e(ne,{}),re=()=>e(K,{basename:"/remanage/",children:e(G,{children:m(H,{children:[e(S,{path:"/",element:e(oe,{})}),e(S,{path:"*",element:e($,{to:"/",replace:!0})})]})})}),ae="modulepreload",P={},ie="./",se=function(t,o){return!o||o.length===0?t():Promise.all(o.map(r=>{if(r=`${ie}${r}`,r in P)return;P[r]=!0;const n=r.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const l=document.createElement("link");if(l.rel=n?"stylesheet":ae,n||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),n)return new Promise((p,h)=>{l.addEventListener("load",p),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},le=s=>{s&&s instanceof Function&&se(()=>import("./web-vitals.67dce932.js"),[]).then(({getCLS:t,getFID:o,getFCP:r,getLCP:n,getTTFB:a})=>{t(s),o(s),r(s),n(s),a(s)})},de=E.createRoot(document.getElementById("root"));de.render(e(re,{}));le();
