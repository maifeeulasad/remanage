import{j as e,l as T,P as $,R as O,n as F,a as h,F as P,C as M,c as V,L as j,r as p,S as q,I as v,B as S,b as H,d as _,M as U,e as W,f as R,T as z,g as L,h as Y,i as G,k as A,N as J,m as Q}from"./.pnpm.a7200360.js";const X=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function l(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=l(t);fetch(t.href,n)}};X();const Z=()=>e(T.Header,{style:{backgroundColor:"transparent"},children:e($,{title:"re:manage",subTitle:"Manage your ways"})});class ee extends O.Component{render(){return e("div",{style:{margin:"20px",flex:"grow"},children:e(T.Content,{children:this.props.children})})}}const te="_footer_1d89m_1",ne="_footerTextCenter_1d89m_7";var B={footer:te,footerTextCenter:ne};const y=`10985c9b0d31d59a16f04bab8e369a3278a18e2e
`,ae=()=>{const[s,a]=F.useNotification(),l=()=>{V(y),s.open({key:y,message:"Trace ID copied to clipboard",description:`ID: ${y}`,duration:2,closeIcon:e("div",{})})};return h(P,{children:[a,e(T.Footer,{className:B.footer,children:h("div",{className:B.footerTextCenter,children:[h("div",{children:["Trace: ",y,e(M,{onClick:()=>l()})]}),h("div",{children:["\xA9 ",new Date().getFullYear()," - Maifee Ul Asad"]})]})})]})};class re extends O.Component{render(){const{children:a}=this.props;return h(j,{style:{minHeight:"100vh"},children:[e(Z,{}),e(ee,{children:a}),e(ae,{})]})}}const N=p.exports.createContext(null),oe=({onDragEnd:s,children:a})=>{const[l,r]=p.exports.useState(null),t=o=>{const m=o.target.closest("[data-droppable-id]");if(!m)return;const c=o.target.closest("[data-draggable-id]");let i=0;if(c){const d=Array.from(m.querySelectorAll("[data-draggable-id]"));i=d.findIndex(u=>u===c),i===-1&&(i=d.length)}r(i)},n=o=>{o.preventDefault();const m=Number(o.dataTransfer.getData("sourceIndex")),c=o.dataTransfer.getData("sourceDroppableId"),i=o.dataTransfer.getData("draggableId"),d=o.target.closest("[data-droppable-id]");if(!d)return;const u=d.getAttribute("data-droppable-id"),g=o.target.closest("[data-draggable-id]");let C=0;if(g){const b=Array.from(d.querySelectorAll("[data-draggable-id]"));C=b.findIndex(D=>D===g),C===-1&&(C=b.length)}const x={source:{index:m,droppableId:c},destination:{index:C,droppableId:u},draggableId:i};r(null),s(x)};return e(N.Provider,{value:{dragOverIndex:l,setDragOverIndex:r},children:e("div",{onDragOver:o=>{o.preventDefault(),t(o)},onDrop:n,children:a})})},K=p.exports.createContext(null),se=({droppableId:s,children:a})=>{const l=p.exports.useRef(null),{dragOverIndex:r}=p.exports.useContext(N);return e(K.Provider,{value:{droppableId:s},children:a({innerRef:t=>{l.current=t,t&&t.setAttribute("data-droppable-id",s)},placeholder:r!==null?e("div",{style:{height:"40px",background:"#e0e0e0",border:"2px dashed #aaa",marginBottom:"8px"}},"__placeholder__"):null},{isDraggingOver:r!==null})})},le=({draggableId:s,index:a,children:l})=>{const r=p.exports.useContext(K),[t,n]=p.exports.useState(!1);if(!r)throw new Error("Draggable must be used within a Droppable");const o=c=>{n(!0),c.dataTransfer.setData("draggableId",s),c.dataTransfer.setData("sourceIndex",a.toString()),c.dataTransfer.setData("sourceDroppableId",r.droppableId),c.dataTransfer.effectAllowed="move"},m=()=>{n(!1)};return l({innerRef:c=>{c&&(c.setAttribute("draggable","true"),c.setAttribute("data-draggable-id",s),c.setAttribute("data-index",a.toString()),c.addEventListener("dragstart",o),c.addEventListener("dragend",m))},draggableProps:{draggable:!0},dragHandleProps:{},dragging:t})},ie=()=>new Promise((s,a)=>{const l=indexedDB.open("kanban",1);l.onsuccess=r=>{const t=r.target.result;s(t)},l.onerror=()=>a(),l.onupgradeneeded=r=>{r.target.result.createObjectStore("kanban",{keyPath:"id"})}}),de=s=>new Promise((a,l)=>{const r=s.transaction(["kanban"],"readonly");r.onerror=n=>{l(n)};const t=r.objectStore("kanban");t.getAll().onsuccess=n=>{a(n.target.result)}}),w=(s,a)=>new Promise((l,r)=>{const t=s.transaction(["kanban"],"readwrite");t.oncomplete=()=>l(),t.onerror=o=>r(o);const n=t.objectStore("kanban");a.map(o=>n.put(o))}),ce=()=>{const[s,a]=p.exports.useState(!0),[l,r]=p.exports.useState(void 0),[t,n]=p.exports.useState([]);p.exports.useEffect(()=>{ie().then(d=>{r(d),a(!1)})},[]);const o=()=>{if(!l)throw new Error("DB not initialized");return de(l)};return p.exports.useEffect(()=>{l&&o().then(d=>n(d))},[s]),{kanbanColumns:t,setKanbanColumns:d=>{if(!l)throw new Error("DB not initialized");a(!0),w(l,d).then(()=>{n(d),a(!1)}).catch(()=>{a(!1)})},addNewKanbanColumn:d=>{if(!l)throw new Error("DB not initialized");const u=[d];a(!0),w(l,u).then(()=>{n(u),a(!1)}).catch(()=>{a(!1)})},updateKanbanColumn:d=>{if(!l)throw new Error("DB not initialized");const u=[d];a(!0),w(l,u).then(()=>{n(u),a(!1)}).catch(()=>{a(!1)})},loading:s}},ue=[{id:"Backlog",title:"Backlog",tasks:[{id:"prem",title:"prem",details:"prem korte hobe"},{id:"taka",title:"taka",details:"onk onk taka",metadeta:""},{id:"time",title:"time",details:"time lagbe",metadeta:""},{id:"poralekha",title:"poralekha",details:"eta kortei vule gesi"}]},{id:"ToDo",title:"To Do",tasks:[{id:"shob",title:"shob",details:"ekdom shob..."}]},{id:"WIP",title:"WIP",tasks:[{id:"janinah",title:"janinah",details:"kichui jani nah"}]},{id:"Completed",title:"Completee",tasks:[]}],pe=({value:s,onChange:a,columnsExisting:l})=>{const[r,t]=p.exports.useState(l),n=p.exports.useRef(null);return e(q,{style:{width:300},onChange:()=>{},value:s,defaultValue:r[0]||void 0,onSelect:o=>{a&&a(o)},options:r.map(o=>({value:o,label:o})),dropdownRender:o=>h(P,{children:[o,h("div",{style:{display:"flex"},children:[e(v,{ref:n}),e(S,{icon:e(H,{}),type:"primary",onClick:()=>{var c,i;const m=(i=(c=n.current)==null?void 0:c.input)==null?void 0:i.value;m&&!r.find(d=>d===m)&&t([...r,m])}})]})]})})},me=p.exports.forwardRef(({columns:s,onOkClicked:a},l)=>{const[r]=_.useForm(),[t,n]=p.exports.useState(!1);return p.exports.useImperativeHandle(l,()=>({close(){n(!1)},open(){n(!0)},getValue(){return new Promise((o,m)=>{r.validateFields().then(()=>{const c=r.getFieldsValue();o(c),r.resetFields()}).catch(()=>{m()})})}})),e(U,{title:"Add Item","data-cy":"add-item-modal",visible:t,closable:!0,onCancel:()=>n(!1),onOk:()=>a(),children:h(_,{form:r,children:[e(_.Item,{name:"column",label:"Column",rules:[{required:!0,message:"Please select or enter COLUMN"}],children:e(pe,{columnsExisting:s})}),e(_.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter TITLE of your task"}],children:e(v,{placeholder:"Title"})}),e(_.Item,{name:"details",label:"Details",rules:[{required:!0,message:"Please enter DETAILS of your task"}],children:e(v,{placeholder:"Details"})}),e(_.Item,{name:"metadata",label:"Metadata",children:e(v.TextArea,{rows:5,placeholder:"Metadata"})})]})})}),ge="_kanbanCard_1l8n9_1",be="_buttonContainer_1l8n9_7",fe="_flexSpace_1l8n9_13",he="_button_1l8n9_7",Ce="_addSeedButton_1l8n9_21",ke="_addItemButton_1l8n9_25",xe="_kanbanContainer_1l8n9_29",Ie="_columnContainer_1l8n9_34",_e="_dragging_1l8n9_42",De="_kanbanRowTitle_1l8n9_46",ye="_kanbanListItem_1l8n9_50",ve="_kanbanPlaceholder_1l8n9_56";var f={kanbanCard:ge,buttonContainer:be,flexSpace:fe,button:he,addSeedButton:Ce,addItemButton:ke,kanbanContainer:xe,columnContainer:Ie,dragging:_e,kanbanRowTitle:De,kanbanListItem:ye,kanbanPlaceholder:ve};const we=()=>{const{kanbanColumns:s,setKanbanColumns:a,addNewKanbanColumn:l,updateKanbanColumn:r,loading:t}=ce(),n=p.exports.createRef(),o=i=>{if(i.destination===void 0||i.destination===null)return;const d=i.source.droppableId,u=i.destination.droppableId,g=s.find(k=>k.id===d),C=s.find(k=>k.id===u);if(g===void 0||C===void 0)return;const x=C.tasks,b=g.tasks,D=b[i.source.index];b.splice(i.source.index,1),x.splice(i.destination.index,0,D);const I=s.map(k=>k.id===d?{...k,tasks:b}:k.id===u?{...k,tasks:x}:k);a(I)},m=()=>{!n||!n.current||(n.current.getValue().then(i=>{const d=i.column,u=s.find(g=>g.id===d);if(u)u.tasks=[...u.tasks,{id:new Date().toUTCString(),title:i.title,details:i.details,metadeta:i.metadata}],r(u);else{const g={id:d,title:d,tasks:[{id:new Date().toUTCString(),title:i.title,details:i.details,metadeta:i.metadata}]};l(g)}}),n.current.close())},c=()=>{!n||!n.current||n.current.open()};return h(P,{children:[t&&e(W,{}),h("div",{className:f.buttonContainer,children:[e("div",{className:f.flexSpace}),e(S,{className:`${f.button} ${f.addSeedButton}`,type:"primary","data-cy":"add-seed",onClick:()=>a(ue),children:"Add Seed"}),e(S,{className:`${f.button} ${f.addItemButton}`,type:"primary","data-cy":"add-item",onClick:()=>c(),children:"Add Item"})]}),e(me,{ref:n,columns:s.map(i=>i.title),onOkClicked:()=>{m()}}),e(oe,{onDragEnd:o,children:e("div",{className:f.kanbanContainer,children:s.map(i=>e(se,{droppableId:i.id,children:(d,u)=>{const{dragOverIndex:g}=p.exports.useContext(N),C=u.isDraggingOver,x=[...i.tasks];return C&&g!==null&&g<=x.length&&x.splice(g,0,{id:"__placeholder__",title:"",details:"",metadeta:"",isPlaceholder:!0}),e("div",{className:f.columnContainer,ref:d.innerRef,children:e(R,{header:e(z.Title,{className:f.kanbanRowTitle,level:4,children:i.title}),dataSource:x,renderItem:(b,D)=>b.isPlaceholder?e("div",{className:f.kanbanPlaceholder},"placeholder"):e(R.Item,{className:f.kanbanListItem,children:e(le,{draggableId:b.id,index:D,children:I=>e(L,{"data-cy":"kanban-card",className:`${f.kanbanCard} ${I.dragging?f.dragging:""}`,title:b.title,ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,children:e(L.Meta,{title:b.details,description:b.metadeta})})},b.id)})})})}},i.title))})})]})},Se=()=>e(we,{}),Te=()=>e(Y,{basename:"/remanage/",children:e(re,{children:h(G,{children:[e(A,{path:"/",element:e(Se,{})}),e(A,{path:"*",element:e(J,{to:"/",replace:!0})})]})})}),Pe="modulepreload",E={},Ne="./",Re=function(a,l){return!l||l.length===0?a():Promise.all(l.map(r=>{if(r=`${Ne}${r}`,r in E)return;E[r]=!0;const t=r.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const o=document.createElement("link");if(o.rel=t?"stylesheet":Pe,t||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),t)return new Promise((m,c)=>{o.addEventListener("load",m),o.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>a())},Le=s=>{s&&s instanceof Function&&Re(()=>import("./.pnpm.a7200360.js").then(function(a){return a.w}),[]).then(({getCLS:a,getFID:l,getFCP:r,getLCP:t,getTTFB:n})=>{a(s),l(s),r(s),t(s),n(s)})},Ae=Q.createRoot(document.getElementById("root"));Ae.render(e(Te,{}));Le();
