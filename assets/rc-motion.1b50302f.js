import{g as ze}from"./@ant-design.48da76a4.js";import{b as ce,f as N,g as T,c as l,u as Ce,v as Le,w as Re,x as Me,e as Se,q as qe}from"./@babel.e466e1a4.js";import{r as u}from"./react.c0c01f32.js";import{i as ve,m as ye,v as Z,L as Be,n as Ge,M as He}from"./rc-util.7da18822.js";import{a as Je}from"./classnames.2841525d.js";function Ae(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function Xe(t,e){var n={animationend:Ae("Animation","AnimationEnd"),transitionend:Ae("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var Ye=Xe(ve(),typeof window!="undefined"?window:{}),_e={};if(ve()){var Ze=document.createElement("div");_e=Ze.style}var H={};function Pe(t){if(H[t])return H[t];var e=Ye[t];if(e)for(var n=Object.keys(e),r=n.length,a=0;a<r;a+=1){var s=n[a];if(Object.prototype.hasOwnProperty.call(e,s)&&s in _e)return H[t]=e[s],H[t]}return""}var be=Pe("animationend"),Oe=Pe("transitionend"),Ne=!!(be&&Oe),ge=be||"animationend",he=Oe||"transitionend";function xe(t,e){if(!t)return null;if(ce(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}var U="none",J="appear",X="enter",Y="leave",Te="none",R="prepare",I="start",$="active",fe="end",et=function(){var t=u.exports.useRef(null);function e(){ye.cancel(t.current)}function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=ye(function(){a<=1?r({isCanceled:function(){return s!==t.current}}):n(r,a-1)});t.current=s}return u.exports.useEffect(function(){return function(){e()}},[]),[n,e]},De=ve()?u.exports.useLayoutEffect:u.exports.useEffect,ke=[R,I,$,fe],Ve=!1,tt=!0;function we(t){return t===$||t===fe}var nt=function(t,e){var n=Z(Te),r=N(n,2),a=r[0],s=r[1],o=et(),d=N(o,2),y=d[0],i=d[1];function c(){s(R,!0)}return De(function(){if(a!==Te&&a!==fe){var v=ke.indexOf(a),f=ke[v+1],p=e(a);p===Ve?s(f,!0):y(function(A){function k(){A.isCanceled()||s(f,!0)}p===!0?k():Promise.resolve(p).then(k)})}},[t,a]),u.exports.useEffect(function(){return function(){i()}},[]),[c,a]},rt=function(t){var e=u.exports.useRef(),n=u.exports.useRef(t);n.current=t;var r=u.exports.useCallback(function(o){n.current(o)},[]);function a(o){o&&(o.removeEventListener(he,r),o.removeEventListener(ge,r))}function s(o){e.current&&e.current!==o&&a(e.current),o&&o!==e.current&&(o.addEventListener(he,r),o.addEventListener(ge,r),e.current=o)}return u.exports.useEffect(function(){return function(){a(e.current)}},[]),[s,a]};function at(t,e,n,r){var a=r.motionEnter,s=a===void 0?!0:a,o=r.motionAppear,d=o===void 0?!0:o,y=r.motionLeave,i=y===void 0?!0:y,c=r.motionDeadline,v=r.motionLeaveImmediately,f=r.onAppearPrepare,p=r.onEnterPrepare,A=r.onLeavePrepare,k=r.onAppearStart,C=r.onEnterStart,x=r.onLeaveStart,w=r.onAppearActive,M=r.onEnterActive,_=r.onLeaveActive,P=r.onAppearEnd,L=r.onEnterEnd,D=r.onLeaveEnd,V=r.onVisibleChanged,q=Z(),b=N(q,2),m=b[0],j=b[1],F=Z(U),O=N(F,2),g=O[0],Q=O[1],W=Z(null),le=N(W,2),Fe=le[0],de=le[1],ee=u.exports.useRef(!1),te=u.exports.useRef(null);function B(){return n()}var pe=u.exports.useRef(!1);function me(E){var S=B();if(!(E&&!E.deadline&&E.target!==S)){var h=pe.current,G;g===J&&h?G=P==null?void 0:P(S,E):g===X&&h?G=L==null?void 0:L(S,E):g===Y&&h&&(G=D==null?void 0:D(S,E)),g!==U&&h&&G!==!1&&(Q(U,!0),de(null,!0))}}var Ke=rt(me),Ue=N(Ke,1),Ie=Ue[0],z=u.exports.useMemo(function(){var E,S,h;switch(g){case J:return E={},T(E,R,f),T(E,I,k),T(E,$,w),E;case X:return S={},T(S,R,p),T(S,I,C),T(S,$,M),S;case Y:return h={},T(h,R,A),T(h,I,x),T(h,$,_),h;default:return{}}},[g]),$e=nt(g,function(E){if(E===R){var S=z[R];return S?S(B()):Ve}if(K in z){var h;de(((h=z[K])===null||h===void 0?void 0:h.call(z,B(),null))||null)}return K===$&&(Ie(B()),c>0&&(clearTimeout(te.current),te.current=setTimeout(function(){me({deadline:!0})},c))),tt}),Ee=N($e,2),Qe=Ee[0],K=Ee[1],We=we(K);pe.current=We,De(function(){j(e);var E=ee.current;if(ee.current=!0,!!t){var S;!E&&e&&d&&(S=J),E&&e&&s&&(S=X),(E&&!e&&i||!E&&v&&!e&&i)&&(S=Y),S&&(Q(S),Qe())}},[e]),u.exports.useEffect(function(){(g===J&&!d||g===X&&!s||g===Y&&!i)&&Q(U)},[d,s,i]),u.exports.useEffect(function(){return function(){ee.current=!1,clearTimeout(te.current)}},[]);var ne=u.exports.useRef(!1);u.exports.useEffect(function(){m&&(ne.current=!0),m!==void 0&&g===U&&((ne.current||m)&&(V==null||V(m)),ne.current=!0)},[m,g]);var re=Fe;return z[R]&&K===I&&(re=l({transition:"none"},re)),[g,K,re,m!=null?m:e]}var ot=function(t){Ce(n,t);var e=Le(n);function n(){return Re(this,n),e.apply(this,arguments)}return Me(n,[{key:"render",value:function(){return this.props.children}}]),n}(u.exports.Component);function it(t){var e=t;ce(t)==="object"&&(e=t.transitionSupport);function n(a){return!!(a.motionName&&e)}var r=u.exports.forwardRef(function(a,s){var o=a.visible,d=o===void 0?!0:o,y=a.removeOnLeave,i=y===void 0?!0:y,c=a.forceRender,v=a.children,f=a.motionName,p=a.leavedClassName,A=a.eventProps,k=n(a),C=u.exports.useRef(),x=u.exports.useRef();function w(){try{return C.current instanceof HTMLElement?C.current:He(x.current)}catch{return null}}var M=at(k,d,w,a),_=N(M,4),P=_[0],L=_[1],D=_[2],V=_[3],q=u.exports.useRef(V);V&&(q.current=!0);var b=u.exports.useCallback(function(W){C.current=W,Be(s,W)},[s]),m,j=l(l({},A),{},{visible:d});if(!v)m=null;else if(P===U||!n(a))V?m=v(l({},j),b):!i&&q.current?m=v(l(l({},j),{},{className:p}),b):c?m=v(l(l({},j),{},{style:{display:"none"}}),b):m=null;else{var F,O;L===R?O="prepare":we(L)?O="active":L===I&&(O="start"),m=v(l(l({},j),{},{className:Je(xe(f,P),(F={},T(F,xe(f,"".concat(P,"-").concat(O)),O),T(F,f,typeof f=="string"),F)),style:D}),b)}if(u.exports.isValidElement(m)&&Ge(m)){var g=m,Q=g.ref;Q||(m=u.exports.cloneElement(m,{ref:b}))}return u.exports.createElement(ot,{ref:x},m)});return r.displayName="CSSMotion",r}var je=it(Ne),oe="add",ie="keep",ue="remove",ae="removed";function ut(t){var e;return t&&ce(t)==="object"&&"key"in t?e=t:e={key:t},l(l({},e),{},{key:String(e.key)})}function se(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(ut)}function st(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,a=e.length,s=se(t),o=se(e);s.forEach(function(i){for(var c=!1,v=r;v<a;v+=1){var f=o[v];if(f.key===i.key){r<v&&(n=n.concat(o.slice(r,v).map(function(p){return l(l({},p),{},{status:oe})})),r=v),n.push(l(l({},f),{},{status:ie})),r+=1,c=!0;break}}c||n.push(l(l({},i),{},{status:ue}))}),r<a&&(n=n.concat(o.slice(r).map(function(i){return l(l({},i),{},{status:oe})})));var d={};n.forEach(function(i){var c=i.key;d[c]=(d[c]||0)+1});var y=Object.keys(d).filter(function(i){return d[i]>1});return y.forEach(function(i){n=n.filter(function(c){var v=c.key,f=c.status;return v!==i||f!==ue}),n.forEach(function(c){c.key===i&&(c.status=ie)})}),n}var ct=["component","children","onVisibleChanged","onAllRemoved"],vt=["status"],ft=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function lt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:je,n=function(r){Ce(s,r);var a=Le(s);function s(){var o;Re(this,s);for(var d=arguments.length,y=new Array(d),i=0;i<d;i++)y[i]=arguments[i];return o=a.call.apply(a,[this].concat(y)),o.state={keyEntities:[]},o.removeKey=function(c){var v=o.state.keyEntities,f=v.map(function(p){return p.key!==c?p:l(l({},p),{},{status:ae})});return o.setState({keyEntities:f}),f.filter(function(p){var A=p.status;return A!==ae}).length},o}return Me(s,[{key:"render",value:function(){var d=this,y=this.state.keyEntities,i=this.props,c=i.component,v=i.children,f=i.onVisibleChanged,p=i.onAllRemoved,A=Se(i,ct),k=c||u.exports.Fragment,C={};return ft.forEach(function(x){C[x]=A[x],delete A[x]}),delete A.keys,u.exports.createElement(k,A,y.map(function(x){var w=x.status,M=Se(x,vt),_=w===oe||w===ie;return u.exports.createElement(e,qe({},C,{key:M.key,visible:_,eventProps:M,onVisibleChanged:function(L){if(f==null||f(L,{key:M.key}),!L){var D=d.removeKey(M.key);D===0&&p&&p()}}}),v)}))}}],[{key:"getDerivedStateFromProps",value:function(d,y){var i=d.keys,c=y.keyEntities,v=se(i),f=st(c,v);return{keyEntities:f.filter(function(p){var A=c.find(function(k){var C=k.key;return p.key===C});return!(A&&A.status===ae&&p.status===ue)})}}}]),s}(u.exports.Component);return n.defaultProps={component:"div"},n}var dt=lt(Ne),pt=Object.freeze(Object.defineProperty({__proto__:null,CSSMotionList:dt,default:je},Symbol.toStringTag,{value:"Module"})),gt=ze(pt);export{je as C,dt as a,gt as r};
