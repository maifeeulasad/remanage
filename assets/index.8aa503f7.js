import{j as t,l as v,P as K,R as A,n as $,a as g,F as w,C as F,c as M,L as V,r as p,S as j,I as D,B as _,b as H,d as k,M as q,e as U,f as T,T as z,g as R,h as W,i as Y,k as L,N as G,m as J}from"./.pnpm.a7200360.js";const Q=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}};Q();const X=()=>t(v.Header,{style:{backgroundColor:"transparent"},children:t(K,{title:"re:manage",subTitle:"Manage your ways"})});class Z extends A.Component{render(){return t("div",{style:{margin:"20px",flex:"grow"},children:t(v.Content,{children:this.props.children})})}}const ee="_footer_1d89m_1",te="_footerTextCenter_1d89m_7";var N={footer:ee,footerTextCenter:te};const x=`070f6d871ce8634b0b0b1190b91bbfc1a26c3478
`,ne=()=>{const[o,a]=$.useNotification(),s=()=>{M(x),o.open({key:x,message:"Trace ID copied to clipboard",description:`ID: ${x}`,duration:2,closeIcon:t("div",{})})};return g(w,{children:[a,t(v.Footer,{className:N.footer,children:g("div",{className:N.footerTextCenter,children:[g("div",{children:["Trace: ",x,t(F,{onClick:()=>s()})]}),g("div",{children:["\xA9 ",new Date().getFullYear()," - Maifee Ul Asad"]})]})})]})};class ae extends A.Component{render(){const{children:a}=this.props;return g(V,{style:{minHeight:"100vh"},children:[t(X,{}),t(Z,{children:a}),t(ne,{})]})}}const re=({onDragEnd:o,children:a})=>t("div",{onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();const r=Number(e.dataTransfer.getData("sourceIndex")),n=e.dataTransfer.getData("sourceDroppableId"),i=e.dataTransfer.getData("draggableId"),m=e.target.closest("[data-droppable-id]");if(!m)return;const c=m.getAttribute("data-droppable-id"),d=e.target.closest("[data-draggable-id]");let l=0;if(d){const f=Array.from(m.querySelectorAll("[data-draggable-id]"));l=f.findIndex(h=>h===d),l===-1&&(l=f.length)}o({source:{index:r,droppableId:n},destination:{index:l,droppableId:c},draggableId:i})},children:a}),B=p.exports.createContext(null),oe=({droppableId:o,children:a})=>{const s=p.exports.useRef(null);return t(B.Provider,{value:{droppableId:o},children:a({innerRef:e=>{s.current=e,e&&e.setAttribute("data-droppable-id",o)},placeholder:t("div",{style:{height:"10px"}})},{isDraggingOver:!1})})},se=({draggableId:o,index:a,children:s})=>{const e=p.exports.useContext(B),[r,n]=p.exports.useState(!1);if(!e)throw new Error("Draggable must be used within a Droppable");const i=c=>{n(!0),c.dataTransfer.setData("draggableId",o),c.dataTransfer.setData("sourceIndex",a.toString()),c.dataTransfer.setData("sourceDroppableId",e.droppableId),c.dataTransfer.effectAllowed="move"},m=()=>{n(!1)};return s({innerRef:c=>{c&&(c.setAttribute("draggable","true"),c.setAttribute("data-draggable-id",o),c.setAttribute("data-index",a.toString()),c.addEventListener("dragstart",i),c.addEventListener("dragend",m))},draggableProps:{draggable:!0},dragHandleProps:{},dragging:r})},ie=()=>new Promise((o,a)=>{const s=indexedDB.open("kanban",1);s.onsuccess=e=>{const r=e.target.result;o(r)},s.onerror=()=>a(),s.onupgradeneeded=e=>{e.target.result.createObjectStore("kanban",{keyPath:"id"})}}),de=o=>new Promise((a,s)=>{const e=o.transaction(["kanban"],"readonly");e.onerror=n=>{s(n)};const r=e.objectStore("kanban");r.getAll().onsuccess=n=>{a(n.target.result)}}),y=(o,a)=>new Promise((s,e)=>{const r=o.transaction(["kanban"],"readwrite");r.oncomplete=()=>s(),r.onerror=i=>e(i);const n=r.objectStore("kanban");a.map(i=>n.put(i))}),le=()=>{const[o,a]=p.exports.useState(!0),[s,e]=p.exports.useState(void 0),[r,n]=p.exports.useState([]);p.exports.useEffect(()=>{ie().then(l=>{e(l),a(!1)})},[]);const i=()=>{if(!s)throw new Error("DB not initialized");return de(s)};return p.exports.useEffect(()=>{s&&i().then(l=>n(l))},[o]),{kanbanColumns:r,setKanbanColumns:l=>{if(!s)throw new Error("DB not initialized");a(!0),y(s,l).then(()=>{n(l),a(!1)}).catch(()=>{a(!1)})},addNewKanbanColumn:l=>{if(!s)throw new Error("DB not initialized");const u=[l];a(!0),y(s,u).then(()=>{n(u),a(!1)}).catch(()=>{a(!1)})},updateKanbanColumn:l=>{if(!s)throw new Error("DB not initialized");const u=[l];a(!0),y(s,u).then(()=>{n(u),a(!1)}).catch(()=>{a(!1)})},loading:o}},ce=[{id:"Backlog",title:"Backlog",tasks:[{id:"prem",title:"prem",details:"prem korte hobe"},{id:"taka",title:"taka",details:"onk onk taka",metadeta:""},{id:"time",title:"time",details:"time lagbe",metadeta:""},{id:"poralekha",title:"poralekha",details:"eta kortei vule gesi"}]},{id:"ToDo",title:"To Do",tasks:[{id:"shob",title:"shob",details:"ekdom shob..."}]},{id:"WIP",title:"WIP",tasks:[{id:"janinah",title:"janinah",details:"kichui jani nah"}]},{id:"Completed",title:"Completee",tasks:[]}],ue=({value:o,onChange:a,columnsExisting:s})=>{const[e,r]=p.exports.useState(s),n=p.exports.useRef(null);return t(j,{style:{width:300},onChange:()=>{},value:o,defaultValue:e[0]||void 0,onSelect:i=>{a&&a(i)},options:e.map(i=>({value:i,label:i})),dropdownRender:i=>g(w,{children:[i,g("div",{style:{display:"flex"},children:[t(D,{ref:n}),t(_,{icon:t(H,{}),type:"primary",onClick:()=>{var c,d;const m=(d=(c=n.current)==null?void 0:c.input)==null?void 0:d.value;m&&!e.find(l=>l===m)&&r([...e,m])}})]})]})})},me=p.exports.forwardRef(({columns:o,onOkClicked:a},s)=>{const[e]=k.useForm(),[r,n]=p.exports.useState(!1);return p.exports.useImperativeHandle(s,()=>({close(){n(!1)},open(){n(!0)},getValue(){return new Promise((i,m)=>{e.validateFields().then(()=>{const c=e.getFieldsValue();i(c),e.resetFields()}).catch(()=>{m()})})}})),t(q,{title:"Add Item","data-cy":"add-item-modal",visible:r,closable:!0,onCancel:()=>n(!1),onOk:()=>a(),children:g(k,{form:e,children:[t(k.Item,{name:"column",label:"Column",rules:[{required:!0,message:"Please select or enter COLUMN"}],children:t(ue,{columnsExisting:o})}),t(k.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter TITLE of your task"}],children:t(D,{placeholder:"Title"})}),t(k.Item,{name:"details",label:"Details",rules:[{required:!0,message:"Please enter DETAILS of your task"}],children:t(D,{placeholder:"Details"})}),t(k.Item,{name:"metadata",label:"Metadata",children:t(D.TextArea,{rows:5,placeholder:"Metadata"})})]})})}),pe="_kanbanCard_4dv4u_1",be="_buttonContainer_4dv4u_7",fe="_flexSpace_4dv4u_13",ge="_button_4dv4u_7",he="_addSeedButton_4dv4u_21",Ce="_addItemButton_4dv4u_25",ke="_kanbanContainer_4dv4u_29",xe="_columnContainer_4dv4u_34",De="_dragging_4dv4u_42",Ie="_kanbanRowTitle_4dv4u_46",ye="_kanbanListItem_4dv4u_50";var b={kanbanCard:pe,buttonContainer:be,flexSpace:fe,button:ge,addSeedButton:he,addItemButton:Ce,kanbanContainer:ke,columnContainer:xe,dragging:De,kanbanRowTitle:Ie,kanbanListItem:ye};const _e=()=>{const{kanbanColumns:o,setKanbanColumns:a,addNewKanbanColumn:s,updateKanbanColumn:e,loading:r}=le(),n=p.exports.createRef(),i=d=>{if(d.destination===void 0||d.destination===null)return;const l=d.source.droppableId,u=d.destination.droppableId,f=o.find(C=>C.id===l),h=o.find(C=>C.id===u);if(f===void 0||h===void 0)return;const S=h.tasks,I=f.tasks,P=I[d.source.index];I.splice(d.source.index,1),S.splice(d.destination.index,0,P);const O=o.map(C=>C.id===l?{...C,tasks:I}:C.id===u?{...C,tasks:S}:C);a(O)},m=()=>{!n||!n.current||(n.current.getValue().then(d=>{const l=d.column,u=o.find(f=>f.id===l);if(u)u.tasks=[...u.tasks,{id:new Date().toUTCString(),title:d.title,details:d.details,metadeta:d.metadata}],e(u);else{const f={id:l,title:l,tasks:[{id:new Date().toUTCString(),title:d.title,details:d.details,metadeta:d.metadata}]};s(f)}}),n.current.close())},c=()=>{!n||!n.current||n.current.open()};return g(w,{children:[r&&t(U,{}),g("div",{className:b.buttonContainer,children:[t("div",{className:b.flexSpace}),t(_,{className:`${b.button} ${b.addSeedButton}`,type:"primary","data-cy":"add-seed",onClick:()=>a(ce),children:"Add Seed"}),t(_,{className:`${b.button} ${b.addItemButton}`,type:"primary","data-cy":"add-item",onClick:()=>c(),children:"Add Item"})]}),t(me,{ref:n,columns:o.map(d=>d.title),onOkClicked:()=>{m()}}),t(re,{onDragEnd:i,children:t("div",{className:b.kanbanContainer,children:o.map(d=>t(oe,{droppableId:d.id,children:l=>t("div",{className:b.columnContainer,ref:l.innerRef,children:t(T,{header:t(z.Title,{className:b.kanbanRowTitle,level:4,children:d.title}),dataSource:d.tasks,renderItem:(u,f)=>t(T.Item,{className:b.kanbanListItem,children:t(se,{draggableId:u.id,index:f,children:h=>t(R,{"data-cy":"kanban-card",className:`${b.kanbanCard} ${h.dragging?b.dragging:""}`,title:u.title,ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,children:t(R.Meta,{title:u.details,description:u.metadeta})})},u.id)}),children:l.placeholder})})},d.title))})})]})},ve=()=>t(_e,{}),we=()=>t(W,{basename:"/remanage/",children:t(ae,{children:g(Y,{children:[t(L,{path:"/",element:t(ve,{})}),t(L,{path:"*",element:t(G,{to:"/",replace:!0})})]})})}),Se="modulepreload",E={},Te="./",Re=function(a,s){return!s||s.length===0?a():Promise.all(s.map(e=>{if(e=`${Te}${e}`,e in E)return;E[e]=!0;const r=e.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":Se,r||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),r)return new Promise((m,c)=>{i.addEventListener("load",m),i.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>a())},Le=o=>{o&&o instanceof Function&&Re(()=>import("./.pnpm.a7200360.js").then(function(a){return a.w}),[]).then(({getCLS:a,getFID:s,getFCP:e,getLCP:r,getTTFB:n})=>{a(o),s(o),e(o),r(o),n(o)})},Ne=J.createRoot(document.getElementById("root"));Ne.render(t(we,{}));Le();
